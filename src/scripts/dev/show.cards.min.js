(function () {
  "use strict";
  const showMoreBtn = document.querySelector("#js-showCards");
  const arrowIcon = document.querySelector("#js-arrow");
  const hiddenCards = document.querySelectorAll(".listing__events-cards .display");

  function toggleHiddenCards() {
    hiddenCards.forEach(function(card) {
      if (card.style.display === "none" || card.style.display === "") {
        card.style.display = "block";
        setTimeout(function() {
          card.style.transform = "translateX(0)";
        }, 5);
        showMoreBtn.textContent = "Скрыть";
        arrowIcon.style.transform = "rotate(270deg)";
      } else {
        card.style.transform = "translateX(100%)";
        setTimeout(function() {
          card.style.display = "none";
        }, 500);
        showMoreBtn.textContent = "Показать еще";
        arrowIcon.style.transform = "rotate(-270deg)";
      }
    });
  }

  showMoreBtn.addEventListener("click", toggleHiddenCards);
  arrowIcon.addEventListener("click", toggleHiddenCards);
})();